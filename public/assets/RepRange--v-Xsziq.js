import{r as l,a as c,A as p,j as e}from"./index-BYZoeFiF.js";import{S as y}from"./SuperAdminSidebar-w5hGfztw.js";import"./index-D-5OJeWc.js";const R=()=>{const[g,d]=l.useState([]),[x,n]=l.useState(!1),[r,o]=l.useState(null),[a,t]=l.useState({body_goal:"",gender:"unisex",reps_low:"",reps_high:""});l.useEffect(()=>{u()},[]);const u=async()=>{try{const s=await c.get(`${p}/api/rep-ranges`);Array.isArray(s.data)?d(s.data):(console.error("Unexpected rep ranges response:",s.data),d([]))}catch(s){console.error("Error fetching rep ranges:",s),d([])}},i=s=>{const{name:b,value:f}=s.target;t(j=>({...j,[b]:f}))},m=async()=>{try{r?await c.put(`${p}/api/rep-ranges/${r.id}`,a):await c.post(`${p}/api/rep-ranges`,a),t({body_goal:"",gender:"unisex",reps_low:"",reps_high:""}),n(!1),o(null),u()}catch(s){console.error("Error saving rep range:",s)}},h=s=>{t(s),o(s),n(!0)};return e.jsxs("div",{className:"flex min-h-screen bg-[#F9FAFB]",children:[e.jsx(y,{}),e.jsxs("div",{className:"flex-1 p-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-black mb-6",children:"📋 Rep Range Library"}),e.jsx("button",{className:"bg-black text-white px-4 py-2 rounded-md mb-6 hover:bg-gray-900 transition",onClick:()=>{o(null),t({body_goal:"",gender:"unisex",reps_low:"",reps_high:""}),n(!0)},children:"➕ Add Rep Range"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.length?g.map(s=>e.jsxs("div",{className:"bg-white rounded-xl shadow-md p-5 cursor-pointer hover:shadow-lg transition",children:[e.jsx("h3",{className:"text-lg font-bold text-black mb-1",children:s.body_goal}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Gender: ",s.gender]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Reps: ",s.reps_low," – ",s.reps_high]}),e.jsx("button",{className:"mt-3 px-3 py-1 bg-black text-white rounded text-sm hover:bg-gray-900 transition",onClick:()=>h(s),children:"Edit"})]},s.id)):e.jsx("p",{className:"text-gray-500",children:"No rep ranges found."})}),x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex justify-center items-start z-50 overflow-auto pt-10 pb-10",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg w-[90%] max-w-md shadow-lg",children:[e.jsx("h2",{className:"text-lg font-bold text-black mb-4",children:r?"✏️ Edit Rep Range":"➕ Add Rep Range"}),e.jsx("label",{className:"block mb-1 font-semibold",children:"Body Goal"}),e.jsx("input",{type:"text",name:"body_goal",value:a.body_goal,onChange:i,className:"input w-full mb-3 border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-black",placeholder:"e.g. Muscle Gain"}),e.jsx("label",{className:"block mb-1 font-semibold",children:"Gender"}),e.jsxs("select",{name:"gender",value:a.gender,onChange:i,className:"input w-full mb-3 border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-black",children:[e.jsx("option",{value:"unisex",children:"Unisex"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"})]}),e.jsxs("div",{className:"flex gap-4 mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block mb-1 font-semibold",children:"Reps Low"}),e.jsx("input",{type:"number",name:"reps_low",value:a.reps_low,onChange:i,className:"input w-full border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-black"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block mb-1 font-semibold",children:"Reps High"}),e.jsx("input",{type:"number",name:"reps_high",value:a.reps_high,onChange:i,className:"input w-full border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-black"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{className:"border px-4 py-2 rounded hover:bg-gray-100",onClick:()=>{n(!1),o(null)},children:"Cancel"}),e.jsx("button",{className:"bg-black text-white px-4 py-2 rounded hover:bg-gray-900",onClick:m,children:r?"Update":"Add"})]})]})})]})]})};export{R as default};
